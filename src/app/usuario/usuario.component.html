<div class="container loading" *ngIf="loading">
  <div class="row justify-content-center">
    <img src="../../assets/gif/loading.gif" alt="" srcset="" />
  </div>
</div>

<div
  class="container"
  style="margin-top: 1%; margin-left: 9%"
  *ngIf="operacionCRUD.is_visible"
>
  <h3>Datos del Usuario</h3>
  <div class="row">
    <div class="col-md-3">
      <label for="nombre" class="form-label">Nombre </label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="usuario.nombre"
        id="nombre"
        autofocus
      />
    </div>

    <div class="col-md-3">
      <label for="apellido" class="form-label">Apellido </label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="usuario.apellido"
        id="apellido"
      />
    </div>

    <div class="col-md-3">
      <label for="telefono" class="form-label">Telefono </label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="usuario.telefono"
        id="telefono"
      />
    </div>
  </div>
  <div class="row" style="margin-top: 1%;">
    <div class="col-md-3">
      <label for="email" class="form-label">Email </label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="usuario.email"
        id="email"
      />
    </div>

    <div class="col-md-6">
      <label for="direccion" class="form-label">Direccion </label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="usuario.direccion"
        id="direccion"
      />
    </div>
  </div>
</div>

<div class="panel-body" *ngIf="usuarios.length > 0">
  <div class="container">
    <button class="btn btn-success" style="margin-top: 1%" (click)="new()" *ngIf="!operacionCRUD.is_visible">
      Nuevo usuario
    </button>
    <div class="row" *ngIf="operacionCRUD.is_visible" style="margin-top: 1.5%;">
      <div class="col-md-1">
        <button class="btn btn-primary" (click)="operacionCRUD.is_visible = false">Cancelar</button>
      </div>
      <div class="col-md-1">
        <button class="btn btn-success" (click)="save()">Registrar</button>
      </div>
    </div>
    <hr />
    <table class="table table-striped table-over">
      <thead class="thead-dark">
        <th>Nombre</th>
        <th>Apellido</th>
        <th>Telefono</th>
        <th>Email</th>
        <th>Direccion</th>
        <th class="text-rigth">Opciones</th>
      </thead>
      <tbody>
        <tr *ngFor="let u of usuarios">
          <td>{{ u.nombre }}</td>
          <td>{{ u.apellido }}</td>
          <td>{{ u.telefono }}</td>
          <td>{{ u.email }}</td>
          <td>{{ u.direccion }}</td>
          <td class="text-rigth">
            <button class="btn btn-warning" (click)="edit(u)" style="margin-right: 2%;">Editar</button>
            <button class="btn btn-danger" (click)="delete(u.id)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

